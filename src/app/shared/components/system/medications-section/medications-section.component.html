<div class="title">{{section.name}}</div>

<div class="content">
  <ng-container [ngTemplateOutlet]="xAxisTimelineTemplate" [ngTemplateOutletContext]="{isTop:true}"></ng-container>

  <div #categories class="categories-container">
    <app-medications-category *ngFor="let category of section.categories; let i=index"
      [category]="category"
      [timeline]="timeline"
      (expandCondense)="onExpandCondense()"
      (timelineWidth)="onTimelineWidth($event, i)"
    >
    </app-medications-category>
  </div>

  <ng-container [ngTemplateOutlet]="xAxisTimelineTemplate" [ngTemplateOutletContext]="{isTop:false}"></ng-container>
</div>

<ng-template #xAxisTimelineTemplate let-isTop="isTop">
  <div class="x-axis-timeline">
    <div #xAxisTimeline class="x-axis-timeline-values" [ngClass]="isTop ? 'top' : 'bottom'">
      <div *ngFor="let value of timeline.xAxisValues">{{value}}</div>
    </div>
  </div>
</ng-template>
